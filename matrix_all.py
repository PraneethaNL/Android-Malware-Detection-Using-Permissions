import numpy
import pandas
a2 = open('/home/sakshi/Desktop/major/final/comb_rem_dup.txt','r').read().strip().split('\n')
a2_set = set(a2)

mat = [[0 for i in range(272)] for j in range(999+112)]
for i in range(999):
	#j=271
	input_fname="/home/sakshi/Desktop/major/final/drebinpermissions_out/"+`i+1`+".txt"
	'''output_fname_nonstd = "/home/sakshi/Desktop/major/ben_out/non_std/"+`i+1`+"non_std.txt"
	output_fname_std = "/home/sakshi/Desktop/major/ben_out/std/"+`i+1`+"std.txt" '''

	#print(i,j)

	

	a1 = open(input_fname,'r').read().strip().split('\n')

	

	a1_set = set(a1)

	
	l=i
	k=0
	for p in a1_set:
		for q in a2_set:
			if p==q:
				
				mat[l][k]=1
			#print(l,k,mat[l][k])
			k+=1
			'''else:
				
				#print(i,j)
				mat[l][k]=0
				print(l,j,mat[l][k])'''
			#print(k)
			#k=k+1
			'''if k==272:
				k=0
				break'''
		#print"end of row "+str(i)
		k=0
	'''j=0			
	for p in a1_set:
		for q in a2_set:
			if mat[i,j]!=1:
				mat[i,j]=0


			j=j+1'''
'''
num_mat = numpy.array(mat)
print num_mat
print num_mat.shape'''


#mat = [[]]
#mat=[112][271]
#mat={}
#numpy.zeros((x, y))
#mat = [[0 for i in range(272)] for j in range(112)]
for i in range(112):
	#j=271
	input_fname="/home/sakshi/Desktop/major/final/benign_o/"+`i+1`+".txt"
	'''output_fname_nonstd = "/home/sakshi/Desktop/major/ben_out/non_std/"+`i+1`+"non_std.txt"
	output_fname_std = "/home/sakshi/Desktop/major/ben_out/std/"+`i+1`+"std.txt" '''

	#print(i,j)

	

	a1 = open(input_fname,'r').read().strip().split('\n')

	

	a1_set = set(a1)

	
	l=i
	k=0
	for p in a1_set:
		for q in a2_set:
			if p==q:
				
				mat[l+999][k]=1
			#print(l,k,mat[l][k])
			k+=1
			'''else:
				
				#print(i,j)
				mat[l][k]=0
				print(l,j,mat[l][k])'''
			#print(k)
			#k=k+1
			'''if k==272:
				k=0
				break'''
		#print"end of row "+str(i)
		k=0
	'''j=0			
	for p in a1_set:
		for q in a2_set:
			if mat[i,j]!=1:
				mat[i,j]=0


			j=j+1'''

for i in range(999):
	mat[i][271]=1

for i in range(112):
	mat[i+999][271]=0


num_mat = numpy.array(mat)

import arff
#filepath="/home/sakshi/Desktop/major/final/abc.arff"
abc=arff.dumps(mat)
print abc

df=pandas.DataFrame(num_mat)
filepath="/home/sakshi/Desktop/major/final/exc.xlsx"
df.to_excel(filepath,index=False)

numpy.savetxt("foo.csv", num_mat, delimiter=",")
#print num_mat
'''print num_mat.shape
print num_mat[999][271]'''
